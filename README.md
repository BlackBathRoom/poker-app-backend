# PokerAppBackend

ポーカーチップ計算アプリのバックエンドです

Flask-restfulを使用し構築しています

## データ型

データのやり取りはjson形式で行います

### User

|   propaty   |       type       |
|:-----------:|:----------------:|
|     `id`    |     `string`     |
|    `name`   |     `string`     |
|    `chip`   |     `number`     |
|    `role`   | `Role` or `null` |
| `isplaying` |      `bool`      |

### Role

`Literal["DB", "SB", "BB"]`

### GameInfo

|   propaty   |       type       |
|:-----------:|:----------------:|
|    `pot`    |     `number`     |
|    `rate`   |     `number`     |
| `isplaying` |      `bool`      |

## エンドポイント

### `/users/{id}`

#### GET

idの指定は必須ではありません。

idを指定せずにアクセスすることで全てのユーザーの情報を入手できます。idを指定すると対応するユーザーの情報を返します。

#### POST

idの指定は必要ありません。

ユーザー情報の登録を行います。登録が成功するとユーザーIDを返却します。

#### PUT

idの指定が必須です。

idで指定されたユーザーの情報を更新します。複数の情報の更新をする場合に利用してください。

#### DELETE

idの指定が必須です。

idで指定されたユーザーの情報を削除します。

### `/users/{id}/{property}`

#### GET

指定されたプロパティの値を返却します。

#### POST

許可していません。

#### PUT

指定されたidのユーザーのプロパティを更新します。特定のプロパティのみを更新する場合に使用してください。

#### DELETE

許可していません。

### `/gameinfo/{id}`

#### GET

idの指定が必須です。

idで指定したゲームの情報を返します。

#### POST

idの指定は必要ありません。

ゲーム情報の登録を行います。登録が成功するとゲームのIDを返却します。

#### PUT

idの指定が必須です。

idで指定されたゲームの情報を更新します。複数の情報の更新をする場合に利用してください。

#### DELETE

idの指定が必須です。

idで指定されたゲーム情報を削除します。

### `/gameinfo/{id}/{property}`

#### GET

指定されたプロパティの値を返却します。

#### POST

許可していません。

#### PUT

指定されたidのゲーム情報のプロパティを更新します。特定のプロパティのみを更新する場合に使用してください。

#### DELETE

許可していません。

### `POST`メソッドと`PUT`メソッドの使い分け

<dl>
    <dt>POST</dt>
    <dd>情報の登録に使用</dd>
    <dt>PUT</dt>
    <dd>情報の更新に使用</dd>
</dl>

## サーバの起動

まだ本番用のサーバを作成していないので、`src/app.py`を実行してください。

`http://localhost:8000/users`にアクセスしデータの取得ができれば大丈夫です。


CORSの設定で`http://localhost:5000`のみを許可しています。

フロント側でデータを取得しブラウザで確認する場合、アドレスバーには`http://localhost:5000`を打ち込んでください。
